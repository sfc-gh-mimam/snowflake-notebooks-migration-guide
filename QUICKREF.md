[{"text": "[{\"text\": \"# Quick Reference - Snowflake Notebooks Migration Guide\\n\\n## Local Development\\n\\n### Start the app locally\\n```bash\\n# Without Docker\\nstreamlit run app/main.py\\n\\n# With Docker\\n./run-local.sh\\n# OR\\ndocker build -t migration-guide:latest .\\ndocker run -p 8501:8501 migration-guide:latest\\n```\\n\\nAccess at: http://localhost:8501\\n\\n## SPCS Deployment (Quick Commands)\\n\\n### Build and Push Image\\n```bash\\n# Build\\ndocker build -t migration-guide:latest .\\n\\n# Login to Snowflake registry\\nREPO_URL=\\\"<orgname>-<account>.registry.snowflakecomputing.com/notebooks_migration_db/public/notebooks_migration_repo\\\"\\ndocker login $REPO_URL\\n\\n# Tag and push\\ndocker tag migration-guide:latest $REPO_URL/migration-guide:latest\\ndocker push $REPO_URL/migration-guide:latest\\n```\\n\\n### Create Service\\n```sql\\n-- Run setup.sql first, then:\\nCREATE SERVICE MIGRATION_GUIDE_SERVICE\\n  IN COMPUTE POOL MIGRATION_GUIDE_POOL\\n  FROM SPECIFICATION_FILE = '@~/service-spec.yaml'\\n  MIN_INSTANCES = 1\\n  MAX_INSTANCES = 1;\\n```\\n\\n### Monitor Service\\n```sql\\n-- Check status\\nSHOW SERVICES;\\nSELECT SYSTEM$GET_SERVICE_STATUS('MIGRATION_GUIDE_SERVICE');\\n\\n-- Get endpoint\\nSHOW ENDPOINTS IN SERVICE MIGRATION_GUIDE_SERVICE;\\n\\n-- View logs\\nCALL SYSTEM$GET_SERVICE_LOGS('MIGRATION_GUIDE_SERVICE', '0', 'migration-guide', 100);\\n```\\n\\n### Manage Service\\n```sql\\n-- Suspend (save costs)\\nALTER SERVICE MIGRATION_GUIDE_SERVICE SUSPEND;\\n\\n-- Resume\\nALTER SERVICE MIGRATION_GUIDE_SERVICE RESUME;\\n\\n-- Update\\nDROP SERVICE MIGRATION_GUIDE_SERVICE;\\nCREATE SERVICE ... -- Create again with new config\\n```\\n\\n## Customization\\n\\n### Update Pricing Data\\n- Edit: `app/data/warehouse_specs.json`\\n- Edit: `app/data/compute_pool_specs.json`\\n\\n### Modify Recommendations\\n- Edit: `app/models/warehouse_mapping.py`\\n- Adjust `workload_multipliers` dictionary\\n\\n### Add SQL Queries\\n- Add to: `app/data/sql_templates/`\\n- Reference in: `app/pages/3_Cost_Monitoring.py`\\n\\n### Change Theme\\n- Edit: `.streamlit/config.toml`\\n- Colors, fonts, background\\n\\n## File Structure\\n```\\nspcs-test1/\\n\u251c\u2500\u2500 app/\\n\u2502   \u251c\u2500\u2500 main.py                     # Landing page\\n\u2502   \u251c\u2500\u2500 pages/                      # 5 main sections\\n\u2502   \u251c\u2500\u2500 components/                 # Reusable UI\\n\u2502   \u251c\u2500\u2500 models/                     # Business logic\\n\u2502   \u2514\u2500\u2500 data/                       # Specs & SQL templates\\n\u251c\u2500\u2500 Dockerfile                   # Container definition\\n\u251c\u2500\u2500 service-spec.yaml            # SPCS service spec\\n\u251c\u2500\u2500 setup.sql                    # SPCS infrastructure\\n\u251c\u2500\u2500 requirements.txt             # Python dependencies\\n\u251c\u2500\u2500 README.md                    # Main documentation\\n\u2514\u2500\u2500 DEPLOYMENT.md                # SPCS deployment guide\\n```\\n\\n## Common Tasks\\n\\n### Test Locally After Changes\\n```bash\\npip install -r requirements.txt\\nstreamlit run app/main.py\\n```\\n\\n### Deploy Updates to SPCS\\n```bash\\n# 1. Build new version\\ndocker build -t migration-guide:v1.1 .\\n\\n# 2. Push to Snowflake\\ndocker tag migration-guide:v1.1 $REPO_URL/migration-guide:v1.1\\ndocker tag migration-guide:v1.1 $REPO_URL/migration-guide:latest\\ndocker push $REPO_URL/migration-guide:v1.1\\ndocker push $REPO_URL/migration-guide:latest\\n\\n# 3. Recreate service in Snowflake\\n# Drop and recreate with new image\\n```\\n\\n### Check Costs\\n```sql\\nSELECT\\n    DATE(start_time) AS date,\\n    SUM(credits_used) AS credits,\\n    ROUND(SUM(credits_used) * 4, 2) AS cost_usd\\nFROM SNOWFLAKE.ACCOUNT_USAGE.METERING_HISTORY\\nWHERE service_type = 'COMPUTE_POOL'\\n  AND name = 'MIGRATION_GUIDE_POOL'\\n  AND start_time >= DATEADD(day, -30, CURRENT_TIMESTAMP())\\nGROUP BY DATE(start_time)\\nORDER BY date DESC;\\n```\\n\\n## Troubleshooting\\n\\n### App won't start locally\\n- Check: `pip install -r requirements.txt`\\n- Check: Python 3.8+ installed\\n- Check: Port 8501 not in use\\n\\n### Docker build fails\\n- Check: Docker daemon running\\n- Check: Sufficient disk space\\n- Check: .dockerignore not excluding needed files\\n\\n### Service won't start in SPCS\\n- Check: Image pushed successfully (`SHOW IMAGES`)\\n- Check: Compute pool running (`SHOW COMPUTE POOLS`)\\n- Check: Logs (`SYSTEM$GET_SERVICE_LOGS`)\\n\\n### Can't access endpoint\\n- Check: Service status (`SYSTEM$GET_SERVICE_STATUS`)\\n- Check: Endpoint is public (`SHOW ENDPOINTS`)\\n- Check: User has USAGE privilege\\n\\n## URLs\\n\\n- Snowflake Docs: https://docs.snowflake.com/en/developer-guide/snowpark-container-services\\n- Streamlit Docs: https://docs.streamlit.io\\n- Docker Docs: https://docs.docker.com\\n\\n## Support\\n\\n- Application issues: Check logs and README\\n- SPCS issues: Snowflake support\\n- Pricing questions: Snowflake account team\\n\", \"type\": \"text\"}]", "type": "text"}]